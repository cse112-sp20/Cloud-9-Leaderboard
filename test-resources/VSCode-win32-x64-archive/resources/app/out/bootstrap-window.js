/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
"use strict";const bootstrap=require("./bootstrap");function parseURLQueryArgs(){return(window.location.search||"").split(/[?&]/).filter((function(e){return!!e})).map((function(e){return e.split("=")})).filter((function(e){return 2===e.length})).reduce((function(e,n){return e[n[0]]=decodeURIComponent(n[1]),e}),{})}function registerDeveloperKeybindings(e){const n=require("electron").ipcRenderer,o="darwin"===process.platform?"meta-alt-73":"ctrl-shift-73",t="darwin"===process.platform?"meta-82":"ctrl-82";let r=function(r){const s=function(e){return[e.ctrlKey?"ctrl-":"",e.metaKey?"meta-":"",e.altKey?"alt-":"",e.shiftKey?"shift-":"",e.keyCode].join("")}(r);s===o||"123"===s?n.send("vscode:toggleDevTools"):s!==t||e||n.send("vscode:reloadWindow")};return window.addEventListener("keydown",r),function(){r&&(window.removeEventListener("keydown",r),r=void 0)}}function onUnexpectedError(e,n){const o=require("electron").ipcRenderer;n&&o.send("vscode:openDevTools"),console.error("[uncaught exception]: "+e),
e&&e.stack&&console.error(e.stack)}exports.assign=function(e,n){return Object.keys(n).reduce((function(e,o){return e[o]=n[o],e}),e)},exports.load=function(e,n,o){const t=require("electron").webFrame,r=require("path"),s=parseURLQueryArgs(),i=JSON.parse(s.config||"{}")||{},a=i.zoomLevel;"number"==typeof a&&0!==a&&t.setZoomLevel(a),process.on("uncaughtException",(function(e){onUnexpectedError(e,c)}));const c=(process.env.VSCODE_DEV||!!i.extensionDevelopmentPath)&&!i.extensionTestsPath;let d;(c||o&&o.forceEnableDeveloperKeybindings)&&(d=registerDeveloperKeybindings(o&&o.disallowReloadKeybinding)),exports.assign(process.env,i.userEnv),bootstrap.enableASARSupport(r.join(i.appRoot,"node_modules")),o&&"function"==typeof o.canModifyDOM&&o.canModifyDOM(i);const p=bootstrap.setupNLS();let l=p.availableLanguages["*"]||"en";"zh-tw"===l?l="zh-Hant":"zh-cn"===l&&(l="zh-Hans"),window.document.documentElement.setAttribute("lang",l)
;const u=require(i.appRoot+"/out/vs/loader.js"),f=u.require,g=u.require.define,m=u.require.nodeRequire;window.nodeRequire=m,window.require=f,g("fs",["original-fs"],(function(e){return e})),window.MonacoEnvironment={};const h={baseUrl:bootstrap.uriFromPath(i.appRoot)+"/out","vs/nls":p,
nodeModules:["electron","original-fs","debug","inherits","readable-stream","strip-ansi","applicationinsights","diagnostic-channel","diagnostic-channel-publishers","zone.js","chokidar","graceful-fs","http-proxy-agent","ms","https-proxy-agent","agent-base","iconv-lite","jschardet","keytar","nan","prebuild-install","minimist","native-is-elevated","native-keymap","native-watchdog","node-pty","semver-umd","spdlog","bindings","file-uri-to-path","sudo-prompt","v8-inspect-profiler","chrome-remote-interface","vscode-nsfw","vscode-oniguruma","vscode-proxy-agent","vscode-ripgrep","vscode-sqlite3","vscode-textmate","vsda","xterm","xterm-addon-search","xterm-addon-unicode11","xterm-addon-web-links","xterm-addon-webgl","yauzl","yazl","vscode-windows-ca-certs","node-addon-api","vscode-windows-registry","windows-foreground-love","windows-mutex","windows-process-tree","ansi-regex","anymatch","braces","buffer-crc32","fd-slicer","fs-extra","fsevents","glob-parent","is-binary-path","is-glob","lodash.isinteger","lodash.isundefined","mkdirp","normalize-path","github-from-package","readdirp","safer-buffer","socks-proxy-agent","string_decoder","util-deprecate","binary-extensions","commander","detect-libc","es6-promisify","expand-template","fill-range","is-extglob","jsonfile","napi-build-utils","node-abi","semver","noop-logger","npmlog","pend","picomatch","pump","rc","safe-buffer","simple-get","socks","smart-buffer","tar-fs","tunnel-agent","universalify","which-pm-runs","ws","are-we-there-yet","async-limiter","chownr","console-control-strings","decompress-response","deep-extend","end-of-stream","es6-promise","gauge","ini","ip","mkdirp-classic","once","set-blocking","simple-concat","strip-json-comments","tar-stream","to-regex-range","ultron","aproba","bl","delegates","fs-constants","has-unicode","is-number","mimic-response","object-assign","signal-exit","string-width","wide-align","is-fullwidth-code-point","wrappy","buffer","code-point-at","core-util-is","isarray","process-nextick-args","base64-js","ieee754","number-is-nan","assert","async_hooks","buffer","child_process","cluster","console","constants","crypto","dgram","dns","domain","events","fs","http","http2","https","inspector","module","net","os","path","perf_hooks","process","punycode","querystring","readline","repl","stream","string_decoder","sys","timers","tls","trace_events","tty","url","util","v8","vm","worker_threads","zlib","config"]
};i.nodeCachedDataDir&&(h.nodeCachedData={path:i.nodeCachedDataDir,seed:e.join("")}),o&&"function"==typeof o.beforeLoaderConfig&&o.beforeLoaderConfig(i,h),f.config(h),p.pseudo&&f(["vs/nls"],(function(e){e.setPseudoTranslation(p.pseudo)})),o&&"function"==typeof o.beforeRequire&&o.beforeRequire(),f(e,e=>{try{const t=n(e,i);t&&"function"==typeof t.then&&t.then(()=>{d&&o&&o.removeDeveloperKeybindingsAfterLoad&&d()},e=>{onUnexpectedError(e,c)})}catch(e){onUnexpectedError(e,c)}},onUnexpectedError)};
//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/5763d909d5f12fe19f215cbfdd29a91c0fa9208a/core/bootstrap-window.js.map
