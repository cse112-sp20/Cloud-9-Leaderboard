<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Continuous integration &amp; Continuous deployment.</title><style>
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, YuMincho, "Yu Mincho", "Hiragino Mincho ProN", "Hiragino Mincho Pro", "Songti TC", "Songti SC", "SimSun", "Nanum Myeongjo", NanumMyeongjo, Batang, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC', 'Noto Sans CJK KR'; }

.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC', 'Noto Sans Mono CJK KR'; }

.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, YuMincho, "Yu Mincho", "Hiragino Mincho ProN", "Hiragino Mincho Pro", "Songti TC", "Songti SC", "SimSun", "Nanum Myeongjo", NanumMyeongjo, Batang, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC', 'Noto Sans CJK KR'; }

.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC', 'Noto Sans Mono CJK KR'; }

.highlight-default {
}
.highlight-gray {
	color: rgb(155,154,151);
}
.highlight-brown {
	color: rgb(100,71,58);
}
.highlight-orange {
	color: rgb(217,115,13);
}
.highlight-yellow {
	color: rgb(223,171,1);
}
.highlight-teal {
	color: rgb(15,123,108);
}
.highlight-blue {
	color: rgb(11,110,153);
}
.highlight-purple {
	color: rgb(105,64,165);
}
.highlight-pink {
	color: rgb(173,26,114);
}
.highlight-red {
	color: rgb(224,62,62);
}
.highlight-gray_background {
	background: rgb(235,236,237);
}
.highlight-brown_background {
	background: rgb(233,229,227);
}
.highlight-orange_background {
	background: rgb(250,235,221);
}
.highlight-yellow_background {
	background: rgb(251,243,219);
}
.highlight-teal_background {
	background: rgb(221,237,234);
}
.highlight-blue_background {
	background: rgb(221,235,241);
}
.highlight-purple_background {
	background: rgb(234,228,242);
}
.highlight-pink_background {
	background: rgb(244,223,235);
}
.highlight-red_background {
	background: rgb(251,228,228);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(55, 53, 47, 0.6);
	fill: rgba(55, 53, 47, 0.6);
}
.block-color-brown {
	color: rgb(100,71,58);
	fill: rgb(100,71,58);
}
.block-color-orange {
	color: rgb(217,115,13);
	fill: rgb(217,115,13);
}
.block-color-yellow {
	color: rgb(223,171,1);
	fill: rgb(223,171,1);
}
.block-color-teal {
	color: rgb(15,123,108);
	fill: rgb(15,123,108);
}
.block-color-blue {
	color: rgb(11,110,153);
	fill: rgb(11,110,153);
}
.block-color-purple {
	color: rgb(105,64,165);
	fill: rgb(105,64,165);
}
.block-color-pink {
	color: rgb(173,26,114);
	fill: rgb(173,26,114);
}
.block-color-red {
	color: rgb(224,62,62);
	fill: rgb(224,62,62);
}
.block-color-gray_background {
	background: rgb(235,236,237);
}
.block-color-brown_background {
	background: rgb(233,229,227);
}
.block-color-orange_background {
	background: rgb(250,235,221);
}
.block-color-yellow_background {
	background: rgb(251,243,219);
}
.block-color-teal_background {
	background: rgb(221,237,234);
}
.block-color-blue_background {
	background: rgb(221,235,241);
}
.block-color-purple_background {
	background: rgb(234,228,242);
}
.block-color-pink_background {
	background: rgb(244,223,235);
}
.block-color-red_background {
	background: rgb(251,228,228);
}
.select-value-color-default { background-color: rgba(206,205,202,0.5); }
.select-value-color-gray { background-color: rgba(155,154,151, 0.4); }
.select-value-color-brown { background-color: rgba(140,46,0,0.2); }
.select-value-color-orange { background-color: rgba(245,93,0,0.2); }
.select-value-color-yellow { background-color: rgba(233,168,0,0.2); }
.select-value-color-green { background-color: rgba(0,135,107,0.2); }
.select-value-color-blue { background-color: rgba(0,120,223,0.2); }
.select-value-color-purple { background-color: rgba(103,36,222,0.2); }
.select-value-color-pink { background-color: rgba(221,0,129,0.2); }
.select-value-color-red { background-color: rgba(255,0,26,0.2); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="128e375a-2a5c-406f-a4b1-929137470eb2" class="page sans"><header><div class="page-header-icon undefined"><span class="icon">🛠️</span></div><h1 class="page-title">Continuous integration &amp; Continuous deployment.</h1></header><div class="page-body"><h1 id="0dd7bc2d-2b09-4b54-9420-5489a2936ab9" class="">CICD pipeline</h1><p id="9ead5008-781d-4ab7-b3b2-4c9a02214ec1" class="">Team 9, cloud9, chooses to use Github actions for our CICD pipeline as GitHub Actions allows us to build, test, and deploy applications, but we can also use it to automate other tasks common to other common workflows: triaging and managing issues, automating releases, collaborating with user base, and more. But most importantly, we use Github Actions as it is already in-built in Github.</p><h3 id="7ed665f8-4b3e-434e-b61a-0339be9cf291" class="">CICD pipeline:</h3><figure id="2351c03f-2d38-4151-b1c8-6ceccc75d4b3" class="image"><a href="Continuous%20integration%20Continuous%20deployment%20128e375a2a5c406fa4b1929137470eb2/Screen_Shot_2020-06-07_at_4.22.49_PM.png"><img style="width:1690px" src="Continuous%20integration%20Continuous%20deployment%20128e375a2a5c406fa4b1929137470eb2/Screen_Shot_2020-06-07_at_4.22.49_PM.png"/></a></figure><h1 id="edb090b0-a28b-486a-9a88-8d0ee21f1cd6" class="">ESLint and Prettier with Husky git hooks</h1><hr id="0abaa759-53cb-4a77-851a-9df8e7d5184b"/><p id="c1552f3f-6420-43ce-aa18-86357f6d268b" class="">We uses pre-commit hook to allow developers in our team to have an initial checking / standards before committing their code to github. We included eslint, prettier, testing and typedoc to automate process for developers.</p><h3 id="8e523628-d908-4402-9d49-f7085b73a013" class="">How to set up</h3><p id="1937b5cd-208c-4c72-a14e-1f9c90c6de0a" class="">Note you can skip this step if you directly clone from our repository</p><p id="1ca0d006-8db0-44b7-bb43-159db15ba8b3" class=""><strong>Step 1: Initialize NPM (Node Package Manager) to install packages.</strong></p><p id="36ed2109-d9c1-4a73-bfd9-c60688f5be8f" class="">Packages to install to enable eslint, prettier with husky git hooks</p><pre id="9e1dbc0b-0145-4882-8eb1-cd9ec0cbe29d" class="code"><code>npm install --save-dev eslint

npm install --save-dev eslint-config-prettier

npm install --save-dev eslint-plugin-import@latest

npm install --save-dev lint-staged 

npm install --save-dev pre-commit

npm install --save-dev prettier

npm install --save-dev husky</code></pre><p id="cab05d9b-aa70-4d41-93a1-0c94236980ee" class="">Here&#x27;s what each package does:</p><p id="74e75b56-f41b-4e52-905c-0f57d72e710b" class="block-color-brown_background"><mark class="highlight-pink">eslint</mark>: A tool for identifying and reporting on patterns found in ECMAScript/JavaScript code.
<mark class="highlight-pink">eslint-config-prettier</mark>: Turns off all rules that are unnecessary or might conflict with Prettier to let you use your favorite shareable config without letting its stylistic choices get in the way when using Prettier.
<mark class="highlight-pink">eslint-plugin-import</mark>: Plugin intends to support linting of ES2015+ (ES6+) import/export syntax, and prevent issues with misspelling of file paths and import names. All the goodness that the ES2015+ static module syntax intends to provide, marked up in your editor.
<mark class="highlight-pink">husky</mark>: Git hooks made easy to prevent bad git commit, git push.
<mark class="highlight-pink">lint-staged</mark>: Run linters against staged git files
<mark class="highlight-pink">pre-commit</mark>: A pre-commit hook installer for git. It will ensure that your npm test (or other specified scripts) passes before you can commit your changes.
<mark class="highlight-pink">prettier</mark>: Code formatter that enforces a consistent style by parsing your code and re-printing it with its own rules that take the maximum line length into account, wrapping code when necessary.</p><p id="1971edd2-7c5a-4305-8fba-2c7a78ef6028" class="">Quick note: --save-dev flag is for partitioning the dependencies into development-specific dependencies, so that they are not included in the production JavaScript bundle.</p><p id="8f2df0db-197c-4ce2-904a-4b0f47bb009a" class=""><strong>Step 2: Create the files</strong></p><p id="6536d076-37ea-441c-b579-da3d59e9f7e2" class="">.eslintrc</p><pre id="c6d3610b-3aba-41e2-959c-1d72a527c74e" class="code"><code>{
	&quot;extends&quot;: [&quot;prettier&quot;],
	&quot;env&quot;: {
	&quot;browser&quot;: false,
	&quot;commonjs&quot;: true,
	&quot;es6&quot;: true,
	&quot;node&quot;: true,
	&quot;mocha&quot;: true
	},
	&quot;parserOptions&quot;: {
	&quot;ecmaVersion&quot;: 2018,
	&quot;ecmaFeatures&quot;: {
	&quot;jsx&quot;: true
	},
	&quot;sourceType&quot;: &quot;module&quot;
	},
	&quot;rules&quot;: {}
}</code></pre><p id="6b3e2eef-2f34-406e-938a-182cd7ed205a" class="">Configuration file that tells eslint how to use those downloaded packages.</p><p id="2e59ff6e-801a-45d7-9765-dc49ef14a935" class="">.prettierrc</p><pre id="997f7dda-f621-4f49-80a9-77e22d187720" class="code"><code>{
	&quot;printWidth&quot;: 80,
	&quot;tabWidth&quot;: 2,
	&quot;useTabs&quot;: false,
	&quot;semi&quot;: true,
	&quot;singleQuote&quot;: true,
	&quot;trailingComma&quot;: &quot;all&quot;,
	&quot;bracketSpacing&quot;: false,
	&quot;jsxBracketSameLine&quot;: false,
	&quot;proseWrap&quot;: &quot;always&quot;
}</code></pre><p id="e91d87eb-b356-4251-aa7d-2d6f875312c4" class="">lint-staged.config.js</p><p id="ea2462e3-e9a6-4c21-a878-5fdf5b393d4c" class="">
</p><pre id="e41d20f7-b4ad-48af-ae22-34649aecfc9a" class="code"><code>module.exports = {
	&#x27;**/*.+(js|md|ts|css|sass|less|graphql|yml|yaml|scss|json|vue)&#x27;: [
	&#x27;eslint --fix&#x27;,
	&#x27;prettier --write&#x27;,
	&#x27;git add&#x27;,
	],
};</code></pre><p id="4ca8a98b-442d-4342-b4d8-c7dcc8cc8eed" class="">Configuration file for lint-staged. It specifies an exported object that has a linters key and that we specify a test globe so that this will test all files that ends with specified format and give an array to run against all files that are matched. This will run all files that are being git added. Each file will be run against this test and if the files match we will run this array of commands. If any of them failed, then lint staged will tell husky, husky will stop us from committing the code.</p><p id="f3ccc0a2-09d8-4ad3-b27e-d02268d9df28" class="">
</p><p id="db708759-701b-49f9-b657-dbaf1bea88b6" class=""><strong>Step 4: Step up husky in package.json</strong></p><p id="b7db9944-256f-45e6-bfd2-beb09cb7cf9e" class="">
</p><pre id="3e82917d-2ac1-4372-b1fe-523d9f478ef4" class="code"><code>&quot;husky&quot;: {
	&quot;hooks&quot;: {
	&quot;pre-commit&quot;: &quot;lint-staged&quot;
	}
}</code></pre><p id="8835ce83-02b0-4fc9-a5fe-7070e4fee8d6" class="">Husky git hooks with pre commit to specify which packages that we want to run before committing our code. It will only allow us to commit to code base if eslint syntax, style, and test passes.</p><p id="6bc9976c-5cfa-4f3b-98b9-054d3b5c03b8" class="">
</p><pre id="542242d6-3813-4107-be8a-2b3eefde0515" class="code"><code>&quot;scripts&quot;: {
	&quot;lint&quot;: &quot;eslint .&quot;,
	&quot;pretest&quot;: &quot;npm run lint&quot;,
	&quot;test&quot;: &quot;node ./test/runTest.js&quot;
}</code></pre><p id="ffa97b54-cd64-48f1-a90f-efcd0265ac02" class="">
</p><p id="1cec823c-58a6-4bed-891f-128ee49246db" class="">Ignoring Code
Prettier offers an escape hatch to ignore a block of code or prevent entire files from being formatted.</p><p id="b8b4b781-0888-4d90-a88d-e606baf26750" class="">Ignoring Files
To exclude files from formatting, add entries to a .prettierignore file in the project root or set the --ignore-path CLI option. .prettierignore uses gitignore syntax.</p><p id="a5eb095b-dcf9-47b5-acf6-962530d6f94b" class="">JavaScript
A JavaScript comment of // prettier-ignore will exclude the next node in the abstract syntax tree from formatting.</p><h1 id="3113a40d-6c7a-4e19-925c-39c9e6d5d925" class="">Github actions</h1><hr id="f84d8574-0fea-4af0-acd1-fd77ba0a591e"/><h2 id="e1f56f74-1dfe-4f32-8f54-aaf48013cb73" class="">Continuous Integration</h2><p id="43679532-7fff-41ae-93ba-93d1ffda1167" class="">Github Actions to run your extension CI using the gabrielbb xvfb action. This automatically checks if Linux is the current OS and runs the tests in an Xvfb enabled environment accordingly:</p><pre id="e3020e24-73c1-434c-b4f7-905193a18111" class="code"><code>on: [push]

jobs:
  build:
    strategy:
      matrix:
        os: [macos-latest, ubuntu-latest, windows-latest]
    runs-on: ${{ matrix.os }}
    steps:
      - name: Checkout
        uses: actions/checkout@v2
      - name: Install Node.js
        uses: actions/setup-node@v1
        with:
          node-version: 8.x
      - run: npm install
      - name: Run tests
        uses: GabrielBB/xvfb-action@v1.0
        with:
          run: npm test</code></pre><h3 id="a0c84d83-4ba6-4350-9019-43bb657481a4" class="">Workflow syntax for GitHub Actions</h3><p id="3f8224dc-bd1b-4363-9830-2faf43da2597" class="">A workflow is a configurable automated process made up of one or more jobs. You must create a YAML file to define your workflow configuration. Below are some examples of typical keyword for github actions to trigger events. Detail explanation can be found in <a href="https://help.github.com/en/actions/reference/workflow-syntax-for-github-actions">https://help.github.com/en/actions/reference/workflow-syntax-for-github-actions</a>.</p><h3 id="5efaae3c-4bfe-4502-a4d1-6d05e460c8ec" class=""><mark class="highlight-blue">name</mark></h3><p id="5eb52483-382e-47a1-a2ee-bf5c0d28eaf1" class="">The name of your workflow. GitHub displays the names of your workflows on your repository&#x27;s actions page. If you omit name, GitHub sets it to the workflow file path relative to the root of the repository.</p><h3 id="19346d8f-52c3-43c2-bb21-02b670e9b28c" class=""><mark class="highlight-blue">on</mark></h3><p id="c7b2e3d3-6bea-451f-aacb-204e097d4cc1" class="">Required The name of the GitHub event that triggers the workflow. You can provide a single event string, array of events, array of event types, or an event configuration map that schedules a workflow or restricts the execution of a workflow to specific files, tags, or branch changes. For a list of available events, see &quot;Events that trigger workflows.&quot;</p><p id="dfcddf80-f218-4960-9ec2-c3eefa909ea1" class="">Example using a single event</p><h3 id="99c7a4cd-8050-4382-9356-d3bdd0c9f227" class=""><mark class="highlight-blue">env</mark></h3><p id="2d423b82-6a17-4144-aa5e-22c4b78c5bb2" class="">A map of environment variables that are available to all jobs and steps in the workflow. You can also set environment variables that are only available to a job or step. For more information, see jobs.&lt;job_id&gt;.env and jobs.&lt;job_id&gt;.steps.env.</p><p id="7dacd6b5-9d08-4dc1-b845-b93a00bbdabb" class="">When more than one environment variable is defined with the same name, GitHub uses the most specific environment variable. For example, an environment variable defined in a step will override job and workflow variables with the same name, while the step executes. A variable defined for a job will override a workflow variable with the same name, while the job executes.</p><h3 id="828db170-faba-4aa3-86c1-56359ad53b8a" class=""><mark class="highlight-blue">jobs</mark></h3><p id="eeb76e71-d4c5-4254-bb5a-f93f75742b28" class="">A workflow run is made up of one or more jobs. Jobs run in parallel by default. To run jobs sequentially, you can define dependencies on other jobs using the jobs.&lt;job_id&gt;.needs keyword.</p><p id="c3688e48-9017-4aa1-b237-9aa6f7429c03" class="">Each job runs in an environment specified by runs-on.</p><p id="ab52a967-1e24-453f-b7b7-70a1e57dc510" class="">You can run an unlimited number of jobs as long as you are within the workflow usage limits. For more information, see &quot;Usage limits.&quot;</p><p id="dedbc2cb-bc51-4f86-89b9-09dc915ec4de" class="">If you need to find the unique identifier of a job running in a workflow run, you can use the GitHub API. For more information, see &quot;Workflow Jobs&quot; in the GitHub Developer documentation.</p><p id="0f263a45-bf6c-44de-97c8-01e6c7d65b6b" class="">
</p><h3 id="804fb494-7a4e-43aa-82b0-24d665350e48" class="">File: github_actions_eslint_report_analysis.yml</h3><p id="13b0c087-7965-4bac-9eec-966d072a1ca9" class="">Analyzes an ESLint a report JSON file and posts the results.</p><p id="ecce25f5-e8c9-4340-b58e-97c84ba4050a" class="">On <code>pull_request</code> annotates the pull request diff with warnings and errors</p><p id="40ff3c24-2322-4867-a937-c62fb8bf798b" class="">Reference: <a href="https://github.com/marketplace/actions/eslint-annotate-from-report-json">https://github.com/marketplace/actions/eslint-annotate-from-report-json</a></p><figure id="ee4bf4e7-7c8e-4108-85dc-c7abba1153ea" class="image"><a href="Continuous%20integration%20Continuous%20deployment%20128e375a2a5c406fa4b1929137470eb2/Screen_Shot_2020-06-07_at_4.04.13_PM.png"><img style="width:738px" src="Continuous%20integration%20Continuous%20deployment%20128e375a2a5c406fa4b1929137470eb2/Screen_Shot_2020-06-07_at_4.04.13_PM.png"/></a></figure><h3 id="0e881af6-9d82-4bdb-9849-d764a3d0bce2" class="">File: github_actions_lint.yml</h3><ul id="998fb4b0-446a-446d-86cb-ea938d09d25d" class="bulleted-list"><li><strong>Shows linting errors</strong> on GitHub commits and PRs</li></ul><ul id="4a39983b-118b-4385-85ff-841f4eef7cc4" class="bulleted-list"><li>Allows <strong>auto-fixing</strong> issues</li></ul><ul id="7e97b03b-f318-4636-ae17-07fc894df5b2" class="bulleted-list"><li>Supports <a href="https://github.com/marketplace/actions/lint-action#supported-tools">many linters and formatters</a></li></ul><figure id="663a4522-65dd-4cf6-97e7-72d7ebf9eddb" class="image"><a href="Continuous%20integration%20Continuous%20deployment%20128e375a2a5c406fa4b1929137470eb2/Screen_Shot_2020-06-07_at_4.06.05_PM.png"><img style="width:738px" src="Continuous%20integration%20Continuous%20deployment%20128e375a2a5c406fa4b1929137470eb2/Screen_Shot_2020-06-07_at_4.06.05_PM.png"/></a></figure><h3 id="ac372988-f43d-4cca-8b6b-a5251d4511ab" class="">File: github_actions_test.yml</h3><p id="e8227e13-7064-4757-bc51-9cb956214e56" class="">GitHub Actions to run extension CI using the gabrielbb xvfb action. This automatically checks if Linux is the current OS and runs the tests in an Xvfb enabled environment accordingly. It automates the continuous integration by calling npm test which uses mocha testing frame work.</p><figure id="e6912d12-ec55-4b79-87a5-662c4e02c5aa" class="image"><a href="Continuous%20integration%20Continuous%20deployment%20128e375a2a5c406fa4b1929137470eb2/Screen_Shot_2020-06-07_at_4.08.48_PM.png"><img style="width:738px" src="Continuous%20integration%20Continuous%20deployment%20128e375a2a5c406fa4b1929137470eb2/Screen_Shot_2020-06-07_at_4.08.48_PM.png"/></a></figure><p id="70de2159-fc2f-42de-91e8-9f322933aebe" class="">
</p><p id="a180a327-d093-41f6-92ab-ed863f818b80" class="">Mocha (JS Test Framework)</p><ul id="215373b0-2d19-46b2-bb60-7c415d992559" class="bulleted-list"><li><a href="https://code.visualstudio.com/api/working-with-extensions/testing-extension">reference doc</a> (link attached)</li></ul><figure id="6d62d52e-102c-46db-b8d6-5f916425e535"><a href="https://code.visualstudio.com/api/working-with-extensions/testing-extension" class="bookmark source"><div class="bookmark-info"><div class="bookmark-text"><div class="bookmark-title">Testing Extensions</div><div class="bookmark-description">Visual Studio Code supports running and debugging tests for your extension. These tests will run inside a special instance of VS Code named the Extension Development Host, and have full access to the VS Code API. We refer to these tests as integration tests, because they go beyond unit tests that can run without a VS Code instance.</div></div><div class="bookmark-href"><img src="https://code.visualstudio.com/favicon.ico" class="icon bookmark-icon"/>https://code.visualstudio.com/api/working-with-extensions/testing-extension</div></div><img src="https://code.visualstudio.com/opengraphimg/opengraph-docs.png" class="bookmark-image"/></a></figure><ul id="93ad4d51-a0f8-4003-9d64-39a239241a26" class="bulleted-list"><li>To add unit test cases, in our code base, go to<strong> </strong><em><strong>test &gt; suite &gt; extension.test.js</strong></em></li></ul><ul id="71869257-fb73-4c7e-8d3f-a1042ff40bd1" class="bulleted-list"><li>To run tests, run <strong>npm test</strong></li></ul><figure id="a00b8d6c-60a7-4642-b65e-eeb61a5278fa" class="image"><a href="Continuous%20integration%20Continuous%20deployment%20128e375a2a5c406fa4b1929137470eb2/Untitled.png"><img style="width:616px" src="Continuous%20integration%20Continuous%20deployment%20128e375a2a5c406fa4b1929137470eb2/Untitled.png"/></a></figure><h1 id="ef89cccb-2918-4af8-a435-f71c3b059fac" class="">Continuous Deployment</h1><p id="d6350094-9175-4609-8393-524e30ae268a" class="">Once we have finished a release by pushing to master, we publish it to the VS Code Extension Marketplace so others can find, download, and use our extension.</p><h3 id="6da7938f-be4b-4b9a-a474-d64e412fb63f" class="">vsce</h3><p id="64d90e78-fa40-4726-bb3e-aa55d4aae767" class="">&quot;Visual Studio Code Extensions&quot;, is a command-line tool for packaging, publishing and managing VS Code extensions.</p><p id="efe5d2bf-b3ca-4532-a5b0-2d382e246ee3" class="">Step1: Install Packages</p><pre id="09ad5289-8b66-4173-b8f3-c6a215f9d5fd" class="code"><code>npm install -g vsce</code></pre><pre id="9c704278-49a6-4e75-b08f-b01180276fa1" class="code"><code>$ cd myExtension
$ vsce package
# myExtension.vsix generated
$ vsce publish
# &lt;publisherID&gt;.myExtension published to VS Code MarketPlace</code></pre><p id="7f2ac7b1-c56e-4e66-aa57-87ee8ebe2291" class="">
</p><h3 id="bf7a1b02-f747-4ddd-b2d0-fbe8ad2949e6" class="">Get a Personal Access Token</h3><p id="d6a9b61b-aa88-4183-bc46-d4dd2396c0a6" class="">First, make sure you have an Azure DevOps <a href="https://docs.microsoft.com/azure/devops/organizations/accounts/create-organization-msa-or-work-student">organization</a>.</p><p id="be27096e-3763-4189-b976-e5779dd886ee" class="">In the following examples, the organization&#x27;s name is <code>vscode</code>. From your organization&#x27;s home page (for example: <code>https://dev.azure.com/vscode</code>), open the User settings dropdown menu next to your profile image and select <strong>Personal access tokens</strong>:</p><h3 id="0e2d170c-2cfd-4a86-8d9d-907bf3eddb9c" class="">Create a publisher</h3><p id="bd0aaaf6-8ced-4f27-830f-f52cdc53ec6d" class="">A <strong>publisher</strong> is an identity who can publish extensions to the Visual Studio Code Marketplace. Every extension needs to include a <code>publisher</code> name in its <a href="https://code.visualstudio.com/api/references/extension-manifest"><code>package.json</code></a><a href="https://code.visualstudio.com/api/references/extension-manifest"> file</a>.</p><p id="ac29ddb0-4d5a-449f-9cff-2f60e8170933" class="">Once you have a <a href="https://code.visualstudio.com/api/working-with-extensions/publishing-extension#get-a-personal-access-token">Personal Access Token</a>, you can create a new publisher using <code>vsce</code>:</p><pre id="cb70a78c-de0e-4018-a868-ee32ce45c6bf" class="code"><code>vsce create-publisher (publisher name)</code></pre><p id="b6343a18-c97e-4e7c-b7ff-4d9af29bb31b" class=""><code>vsce</code> will remember the provided Personal Access Token for future references to this publisher.</p><p id="c8ef5218-fd7e-45a9-a2c6-ba2da93e244f" class=""><strong>Note:</strong> Alternatively, create your publisher in the Marketplace publisher <a href="https://marketplace.visualstudio.com/manage">management page</a> and log in through <code>vsce</code>, as described in the next section.</p><h3 id="15f9fbcd-946d-4e2e-a9c7-506180fa33b3" class="">Log in to a publisher</h3><p id="56ae9bef-c3b2-4666-8fa1-33b884bff9cb" class="">If you already created a publisher before and want to use it with <code>vsce</code>:</p><pre id="cb259bc9-f714-4ae5-a3e2-264910badcc3" class="code"><code>vsce login (publisher name)</code></pre><p id="dbcffd91-fdf0-4a43-bfd2-6a159fdd0bed" class="">Similarly to the <code>create-publisher</code> command, <code>vsce</code> will ask you for the Personal Access Token and remember it for future commands.</p><p id="e0448895-0110-4a4e-b836-e3cc035f4ecc" class="">You can also enter your Personal Access Token as you publish with an optional parameter <code>-p &lt;token&gt;</code>.</p><pre id="631cc6a7-3101-4095-9adb-5f56bae6845d" class="code"><code>vsce publish -p &lt;token&gt;</code></pre><p id="ebe3a581-1be7-4954-91e5-d6e941cdb03d" class="">
</p><p id="4205c168-4688-4cf4-bb88-94c6e64a758f" class="">We use github action workflow to define our deployment process as it will enable workflows to easily deploy your VS Code extensions to the marketplace.</p><h2 id="d82fa6e5-53e2-46b2-bdb7-00b01735dcad" class=""><strong>Usage</strong></h2><p id="a6b1fc48-799d-4eb9-8f62-35ae44c2ac9b" class="">Here&#x27;s an example workflow which publishes an extension when you push to the master branch.</p><p id="85f18567-1392-43e0-b305-4615985057a8" class="">on: push: branches: - master
name: Deploy Extension
jobs: deploy: runs-on: ubuntu-latest steps: - uses: actions/checkout@v2 - run: npm install - uses: lannonbr/vsce-action@master with: args: &quot;publish -p $VSCE_TOKEN&quot;env: VSCE_TOKEN: ${{ secrets.VSCE_TOKEN }}</p><h3 id="2f4eccd8-6fe5-40af-b480-8e6c0499a9e6" class=""><strong>Secrets</strong></h3><p id="e4a233a4-08bc-4258-b122-94c26f4edaa4" class="">The <code>VSCE_TOKEN</code> secret is used to authenticate with Azure DevOps when running the <code>vsce</code> CLI. </p><h3 id="18e2af8e-e133-4f41-a7ac-bfab6abd7391" class="">File: github_actions_build.yml</h3><figure id="c7f1e2ff-1028-4ea4-9c72-a3cadd963842" class="image"><a href="Continuous%20integration%20Continuous%20deployment%20128e375a2a5c406fa4b1929137470eb2/Screen_Shot_2020-06-07_at_4.10.26_PM.png"><img style="width:738px" src="Continuous%20integration%20Continuous%20deployment%20128e375a2a5c406fa4b1929137470eb2/Screen_Shot_2020-06-07_at_4.10.26_PM.png"/></a></figure></div></article></body></html>